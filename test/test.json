{
    "Tests": [
        {
            "Convey": "Can call create new game",
            "Zome": "minesweeper",
            "FnName": "newGame",
            "Input": {
                "text": "This is my awesome new game",
                "gameParams": {
                  "size" : {
                    "x" : 30,
                    "y" : 30
                  },
                  "nMines" : 4
                }
            },
            "Output": "%h1%",
            "Exposure":"public"
        },
        {
            "Convey": "Can retrieve created game using getCurrentGames",
            "Zome": "minesweeper",
            "FnName": "getCurrentGames",
            "Raw" : true,
            "Input": "getCurrentGames().length",
            "Output": 1,
            "Exposure":"public"            
        },
        {
            "Convey": "Can add an action to the game",
            "Zome": "minesweeper",
            "FnName": "makeMove",
            "Input": {
              "gameHash": "%h1%",
              "move" : {
                "actionType" : "reveal",
                "position" : {"x" : 20, "y" : 14}
              }
            },
            "Output": "%h1%",
            "Exposure":"public"            
        },
        {
            "Convey": "Can get the state of the game which now includes an entry",
            "Zome": "minesweeper",
            "FnName": "getState",
            "Raw" : true,
            "Input": "getState({gameHash: '%h3%'}).length",
            "Output": 1,
            "Exposure":"public"            
        },

        {
            "Convey": "Is dead function correctly identifies valid moves with no death",
            "Zome": "minesweeper",
            "FnName": "isDead",
            "Raw" : true,
            "Input": "isDead({mines: [{x: 4, y:10}]}, [{actionType: 'reveal', position: {x : 1, y: 3}}])",
            "Output": false,
            "Exposure":"public"            
        },
        {
            "Convey": "Is dead function correctly identifies valid moves that result in a death",
            "Zome": "minesweeper",
            "FnName": "isDead",
            "Raw" : true,
            "Input": "isDead({mines: [{x: 4, y:10}]}, [{actionType: 'reveal', position: {x : 4, y: 10}}])",
            "Output": true,
            "Exposure":"public"            
        },
        {
            "Convey": "Is dead function with an empty list returns false",
            "Zome": "minesweeper",
            "FnName": "isDead",
            "Raw" : true,
            "Input": "isDead({mines: [{x: 4, y:10}]}, [])",
            "Output": false,
            "Exposure":"public"            
        },
        {
            "Convey": "Can add an action to the game that collides with a mine",
            "Zome": "minesweeper",
            "FnName": "makeMove",
            "Input": {
              "gameHash": "%h3%",
              "move" : {
                "actionType" : "reveal",
                "position" : {"x" : 27, "y" : 25}
              }
            },
            "Output": "%h1%",
            "Exposure":"public"            
        },
        {
            "Convey": "Cannot add another action after this",
            "Zome": "minesweeper",
            "FnName": "makeMove",
            "Input": {
              "gameHash": "%h5%",
              "move" : {
                "actionType" : "reveal",
                "position" : {"x" : 0, "y" : 0}
              }
            },
            "ErrMsg": "Validation Failed",
            "Exposure":"public"            
        }
    ]
}
